(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8809],{17758:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/purchase/purchase-requisition",function(){return s(97658)}])},97658:function(e,t,s){"use strict";s.r(t);var r=s(85893),o=s(67294),i=s(86455),n=s.n(i),l=s(9473),a=s(94300),c=s(41664),d=s.n(c),u=s(84800),h=s(8303),p=s(30339),C=s(34532),m=s(52697);s(57950);let x=()=>{let e=(0,l.I0)(),{token:t}=(0,l.v9)(e=>e.user),{purchaseRequests:s,loading:i,success:c}=(0,l.v9)(e=>e.purchaseRequisition),[x,w]=(0,o.useState)(!1);(0,o.useEffect)(()=>{e((0,a.Iw)("All Purchase Requisition"))});let[L,f]=(0,o.useState)([]),j=()=>{(0,h.uB)(t),(0,h.OG)("application/json"),e((0,C.mD)())};(0,o.useEffect)(()=>{j(),e((0,C.aP)())},[]),(0,o.useEffect)(()=>{s&&f(s)},[s]);let k=t=>{n().fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(s=>{s.value&&(e((0,C.Sp)(t)),w(!0))})};return(0,o.useEffect)(()=>{x&&(c?(j(),w(!1),n().fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",customClass:"sweet-alerts"})):n().fire({title:"Failed!",text:"Something went wrong.",icon:"error",customClass:"sweet-alerts"}))},[c]),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{items:[{title:"Main Dashboard",href:"/main"},{title:"Purchase Dashboard",href:"/purchase"},{title:"All Purchase Requisition",href:"#"}]}),(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"panel",children:[(0,r.jsxs)("div",{className:"mb-5 flex items-center justify-between",children:[(0,r.jsx)("h5",{className:"text-lg font-semibold dark:text-white-light",children:"All Purchase Requisition"}),(0,r.jsx)(d(),{href:"/purchase/purchase-requisition/create",className:"btn btn-primary btn-sm m-1",children:(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"h-5 w-5 ltr:mr-2 rtl:ml-2",fill:"none",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M15 12L12 12M12 12L9 12M12 12L12 9M12 12L12 15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Add New"]})})]}),(0,r.jsx)(p.Z,{colName:["id","pr_title","pr_code","description","user_id","department_id","designation_id","requisition_date","status_id"],header:["Id","Title","Code","Description","Employee","Department","Designation","Requisition Date","Status"],rowData:L,loading:i,exportTitle:"all-employees-"+Date.now(),columns:[{accessor:"pr_title",title:"Title",sortable:!0},{accessor:"pr_code",title:"Code",sortable:!0},{accessor:"description",title:"Description",sortable:!0},{accessor:"employee.name",title:"Employee",sortable:!0},{accessor:"department?.name",title:"Department",sortable:!0},{accessor:"designation?.name",title:"Designation",sortable:!0},{accessor:"requisition_date",title:"Required Date",sortable:!0},{accessor:"lpo",title:"LPO Code",render:e=>(0,r.jsx)("span",{children:e.lpo?e.lpo.lpo_number:"N/A"}),sortable:!0},{accessor:"lpo.goods_received_note.code",title:"Goods Received Note",render:e=>{var t,s;return(0,r.jsx)("span",{children:(null===(t=e.lpo)||void 0===t?void 0:t.goods_received_note)?null===(s=e.lpo.goods_received_note)||void 0===s?void 0:s.code:"N/A"})},sortable:!0},{accessor:"status",title:"Status",sortable:!0},{accessor:"actions",title:"Actions",render:e=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(m.ZP,{content:"Edit",children:(0,r.jsx)(d(),{href:"/inventory/products/edit/".concat(e.id),children:(0,r.jsx)("span",{className:"text-primary",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"h-5 w-5 ltr:mr-2 rtl:ml-2",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{d:"M8.25 15.5C8.25 15.9142 8.58579 16.25 9 16.25C9.41421 16.25 9.75 15.9142 9.75 15.5H8.25ZM11.6643 8.75249L12.1624 8.19186L12.1624 8.19186L11.6643 8.75249ZM11.25 10.425C11.25 10.8392 11.5858 11.175 12 11.175C12.4142 11.175 12.75 10.8392 12.75 10.425H11.25ZM11.7475 8.83575L12.3081 8.33756L12.3081 8.33756L11.7475 8.83575ZM6.33575 8.75249L5.83756 8.19186L5.83756 8.19186L6.33575 8.75249ZM5.25 10.425C5.25 10.8392 5.58579 11.175 6 11.175C6.41421 11.175 6.75 10.8392 6.75 10.425H5.25ZM6.25249 8.83575L5.69186 8.33756L5.69186 8.33756L6.25249 8.83575ZM7 14.75C6.58579 14.75 6.25 15.0858 6.25 15.5C6.25 15.9142 6.58579 16.25 7 16.25V14.75ZM11 16.25C11.4142 16.25 11.75 15.9142 11.75 15.5C11.75 15.0858 11.4142 14.75 11 14.75V16.25ZM7.925 9.25H9V7.75H7.925V9.25ZM9 9.25H10.075V7.75H9V9.25ZM9.75 15.5V8.5H8.25V15.5H9.75ZM10.075 9.25C10.5295 9.25 10.8007 9.25137 10.9965 9.27579C11.1739 9.29792 11.1831 9.3283 11.1661 9.31312L12.1624 8.19186C11.8612 7.92419 11.5109 7.82832 11.1822 7.78733C10.8719 7.74863 10.4905 7.75 10.075 7.75V9.25ZM12.75 10.425C12.75 10.0095 12.7514 9.62806 12.7127 9.31782C12.6717 8.98915 12.5758 8.63878 12.3081 8.33756L11.1869 9.33394C11.1717 9.31686 11.2021 9.32608 11.2242 9.50348C11.2486 9.69931 11.25 9.97047 11.25 10.425H12.75ZM11.1661 9.31312C11.1734 9.31964 11.1804 9.32659 11.1869 9.33394L12.3081 8.33756C12.2625 8.28617 12.2138 8.23752 12.1624 8.19186L11.1661 9.31312ZM7.925 7.75C7.50946 7.75 7.12806 7.74863 6.81782 7.78733C6.48914 7.82832 6.13878 7.92419 5.83756 8.19186L6.83394 9.31312C6.81686 9.3283 6.82608 9.29792 7.00348 9.27579C7.19931 9.25137 7.47047 9.25 7.925 9.25V7.75ZM6.75 10.425C6.75 9.97047 6.75137 9.69931 6.77579 9.50348C6.79792 9.32608 6.8283 9.31686 6.81312 9.33394L5.69186 8.33756C5.42419 8.63878 5.32832 8.98915 5.28733 9.31782C5.24863 9.62806 5.25 10.0095 5.25 10.425H6.75ZM5.83756 8.19186C5.78617 8.23752 5.73752 8.28617 5.69186 8.33756L6.81312 9.33394C6.81965 9.3266 6.8266 9.31965 6.83394 9.31312L5.83756 8.19186ZM7 16.25H11V14.75H7V16.25Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M12 4H10C6.22876 4 4.34315 4 3.17157 5.17157C2 6.34315 2 8.22876 2 12C2 15.7712 2 17.6569 3.17157 18.8284C4.34315 20 6.22876 20 10 20H12M15 4.00093C18.1143 4.01004 19.7653 4.10848 20.8284 5.17157C22 6.34315 22 8.22876 22 12C22 15.7712 22 17.6569 20.8284 18.8284C19.7653 19.8915 18.1143 19.99 15 19.9991",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M15 2V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})})}),"Pending"===e.status&&(0,r.jsx)(m.ZP,{content:"Delete",children:(0,r.jsx)("span",{className:"text-danger cursor-pointer",onClick:()=>k(e.id),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"h-5 w-5 ltr:mr-2 rtl:ml-2",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{d:"M9.1709 4C9.58273 2.83481 10.694 2 12.0002 2C13.3064 2 14.4177 2.83481 14.8295 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M20.5001 6H3.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M18.8332 8.5L18.3732 15.3991C18.1962 18.054 18.1077 19.3815 17.2427 20.1907C16.3777 21 15.0473 21 12.3865 21H11.6132C8.95235 21 7.62195 21 6.75694 20.1907C5.89194 19.3815 5.80344 18.054 5.62644 15.3991L5.1665 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M9.5 11L10 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M14.5 11L14 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})})]})}]})]})})]})};t.default=x}},function(e){e.O(0,[100,9462,939,4969,6455,9003,9119,9774,2888,179],function(){return e(e.s=17758)}),_N_E=e.O()}]);