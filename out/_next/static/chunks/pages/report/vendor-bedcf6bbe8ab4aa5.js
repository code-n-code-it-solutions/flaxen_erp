(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4918],{78900:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/report/vendor",function(){return a(71873)}])},71873:function(e,l,a){"use strict";a.r(l);var t=a(85893),o=a(67294),r=a(9473),s=a(94300),n=a(84800),i=a(8303),d=a(30339);a(57950);var c=a(49443),u=a(49828),m=a(15953);a(19134);var h=a(47394);let v=()=>{let e=(0,r.I0)(),{token:l}=(0,r.v9)(e=>e.user),{vendor:a,loading:v,success:_}=(0,r.v9)(e=>e.report),[p,f]=(0,o.useState)(!1),[b,x]=(0,o.useState)("all"),[j,N]=(0,o.useState)("all"),[w,g]=(0,o.useState)(""),[S,E]=(0,o.useState)(""),[C,V]=(0,o.useState)(!1),[A,D]=(0,o.useState)([]),[k,B]=(0,o.useState)([]),{allVendors:F,representatives:R}=(0,r.v9)(e=>e.vendor);(0,o.useEffect)(()=>{e((0,s.Iw)("Vendor Report"))});let[P,y]=(0,o.useState)([]),H=()=>{(0,i.uB)(l),(0,i.OG)("application/json"),V(!0),console.log(b,j,w,S),e((0,h.Ow)({vendor_id:b,vendor_representative_id:j,from_date:w,to_date:S}))},O=()=>{x("all"),N("all"),g(""),E(""),V(!1),e((0,u.dH)()),B([{value:"all",label:"All"}]),e((0,h.WH)())},T=l=>{l&&void 0!==l?(x(l.value),B([{value:"all",label:"All"}]),e((0,u.YU)(l.value))):B([{value:"all",label:"All"}])};return(0,o.useEffect)(()=>{e((0,u.dH)()),V(!1),e((0,h.WH)())},[]),(0,o.useEffect)(()=>{a&&y(a)},[a]),(0,o.useEffect)(()=>{F&&D([{value:"all",label:"All"},...F.map(e=>({value:e.id,label:e.name,vendor:e}))])},[F]),(0,o.useEffect)(()=>{R&&B([{value:"all",label:"All"},...R.map(e=>({value:e.id,label:e.name,representative:e}))])},[R]),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Z,{items:[{title:"Main Dashboard",href:"/main"},{title:"Report Dashboard",href:"/report"},{title:"Vendor Report",href:"#"}]}),(0,t.jsx)("div",{className:"pt-5",children:(0,t.jsxs)("div",{className:"panel",children:[(0,t.jsx)("div",{className:"mb-5 flex items-center justify-between",children:(0,t.jsx)("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Vendor Report"})}),(0,t.jsxs)("div",{className:"flex justify-between items-center flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"vendor_id",children:"Vendors"}),(0,t.jsx)(c.default,{defaultValue:A[0],options:A,isSearchable:!0,isClearable:!0,placeholder:"Select Vendor",onChange:e=>T(e)})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"vendor_representatative_id",children:"Vendor Representative"}),(0,t.jsx)(c.default,{defaultValue:k[0],options:k,isSearchable:!0,isClearable:!0,placeholder:"Select Representative",onChange:e=>N(e.value)})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"from_date",children:"From"}),(0,t.jsx)(m.Z,{value:w,placeholder:"Select Date",options:{dateFormat:"Y-m-d"},className:"form-input",onChange:e=>g(e[0].toLocaleDateString())})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{htmlFor:"to_date",children:"To"}),(0,t.jsx)(m.Z,{value:S,placeholder:"Select Date",options:{dateFormat:"Y-m-d"},className:"form-input",onChange:e=>E(e[0].toLocaleDateString())})]}),(0,t.jsxs)("div",{className:"w-full flex justify-end flex-col md:flex-row gap-1 mt-5",children:[(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>H(),children:"Generate Report"}),(0,t.jsx)("button",{className:"btn btn-info",onClick:()=>O(),children:"Clear"})]})]}),(0,t.jsx)("div",{className:"my-5",hidden:!C,children:(0,t.jsx)(d.Z,{colName:["id","good_receive_note.local_purchase_order.vendor.name","good_receive_note.local_purchase_order.vendor.phone","good_receive_note.local_purchase_order.vendor.email","bill_number","bill_amount","paid_amount","balance"],header:["ID","Vendor","Phone","Email","Bill Number","Bill Amount","Paid Amount","Balance"],rowData:P,loading:v,exportTitle:"vendor-report-"+Date.now(),columns:[{accessor:"good_receive_note.local_purchase_order.vendor.name",title:"Vendor",sortable:!0},{accessor:"good_receive_note.local_purchase_order.vendor.phone",title:"Phone",sortable:!0},{accessor:"good_receive_note.local_purchase_order.vendor.email",title:"Email",sortable:!0},{accessor:"bill_number",title:"Bill Number",sortable:!0},{accessor:"bill_amount",title:"Bill Amount",sortable:!0},{accessor:"paid_amount",title:"Paid Amount",sortable:!0},{accessor:"balance",title:"Balance",sortable:!0}]})})]})})]})};l.default=v},57950:function(){}},function(e){e.O(0,[100,9462,939,4969,9443,6114,7167,9119,9774,2888,179],function(){return e(e.s=78900)}),_N_E=e.O()}]);